# Enhanced License Plate Detection Configuration
# Optimized for High Accuracy YOLO Detection
# Project: project-plat-detection-alfi
# Generated: 2025-09-23

[YOLO_ENHANCED]
# Primary model for speed-accuracy balance
PRIMARY_MODEL = yolov8n.pt
# Secondary model for higher accuracy (optional)
SECONDARY_MODEL = yolov8s.pt
# Tertiary model for maximum accuracy (optional)
TERTIARY_MODEL = yolov8m.pt

# Enhanced confidence thresholds
ENHANCED_CONF_THRESHOLD = 0.25
ENHANCED_IOU_THRESHOLD = 0.45
MAX_DETECTIONS = 100

# Multi-pass detection
USE_MULTI_PASS = true
CONFIDENCE_BOOST = 0.1

# Model ensemble weights
PRIMARY_WEIGHT = 1.0
SECONDARY_WEIGHT = 0.8
TERTIARY_WEIGHT = 0.6

[DETECTION]
# Plate size constraints (pixels)
MIN_PLATE_AREA = 500
MAX_PLATE_AREA = 50000

# Aspect ratio constraints untuk Indonesian plates
MIN_ASPECT_RATIO = 1.5
MAX_ASPECT_RATIO = 5.0

# Relative size constraints (percentage of vehicle area)
MIN_RELATIVE_SIZE = 0.02
MAX_RELATIVE_SIZE = 0.35

# Detection stability
HISTORY_SIZE = 10
CONFIDENCE_SMOOTHING = true

[PREPROCESSING]
# Image enhancement methods
USE_CLAHE = true
USE_BILATERAL_FILTER = true
USE_MORPHOLOGICAL_OPS = true
USE_GAMMA_CORRECTION = true
USE_ADAPTIVE_THRESHOLD = true

# CLAHE parameters
CLAHE_CLIP_LIMIT = 2.0
CLAHE_TILE_GRID_SIZE = 8

# Bilateral filter parameters
BILATERAL_D = 9
BILATERAL_SIGMA_COLOR = 75
BILATERAL_SIGMA_SPACE = 75

# Gamma correction
GAMMA_VALUE = 1.2

[OCR_ENHANCED]
# Multiple OCR configurations
USE_MULTIPLE_CONFIGS = true
USE_INDONESIAN_LANG = true
USE_ENGLISH_LANG = true

# Tesseract parameters
OEM_MODE = 3
PSM_MODES = 7,8,11,13
CHAR_WHITELIST = ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789

# Text cleaning
CLEAN_TEXT = true
MIN_TEXT_LENGTH = 3
MAX_TEXT_LENGTH = 10

# Confidence calculation
USE_TEXT_CONFIDENCE = true
PATTERN_MATCHING = true

[ROI_OPTIMIZATION]
# Vehicle-specific ROI regions
MOTORCYCLE_FRONT_REGIONS = 0.2,0.3,0.8,0.8
MOTORCYCLE_REAR_REGIONS = 0.2,0.4,0.8,0.9
MOTORCYCLE_ASPECT_RANGE = 2.0,5.0
MOTORCYCLE_SIZE_RANGE = 0.02,0.15

CAR_FRONT_REGIONS = 0.15,0.4,0.85,0.85
CAR_REAR_REGIONS = 0.15,0.5,0.85,0.95
CAR_ASPECT_RANGE = 1.8,4.5
CAR_SIZE_RANGE = 0.03,0.25

BUS_FRONT_REGIONS = 0.1,0.3,0.9,0.8
BUS_REAR_REGIONS = 0.1,0.4,0.9,0.9
BUS_ASPECT_RANGE = 1.5,4.0
BUS_SIZE_RANGE = 0.04,0.3

TRUCK_FRONT_REGIONS = 0.1,0.35,0.9,0.85
TRUCK_REAR_REGIONS = 0.1,0.45,0.9,0.95
TRUCK_ASPECT_RANGE = 1.5,4.0
TRUCK_SIZE_RANGE = 0.04,0.35

[PERFORMANCE]
# Performance optimization
ENABLE_GPU = true
BATCH_PROCESSING = false
PARALLEL_OCR = true
CACHE_RESULTS = true

# Memory management
MAX_MEMORY_USAGE = 2048
GARBAGE_COLLECT_FREQUENCY = 100

# Logging
LOG_LEVEL = INFO
LOG_TO_FILE = true
LOG_TO_CONSOLE = true
LOG_PERFORMANCE = true

[DATABASE]
# Database configuration - Using existing project database
DATABASE_FILE = detected_plates.db
ENABLE_LOGGING = true
BATCH_INSERTS = true
CLEANUP_OLD_RECORDS = true
RETENTION_DAYS = 30

[VALIDATION]
# Quality validation
MIN_DETECTION_CONFIDENCE = 0.3
MIN_OCR_CONFIDENCE = 0.4
MIN_COMBINED_CONFIDENCE = 0.5

# Pattern validation untuk Indonesian plates
VALIDATE_PATTERNS = true
INDONESIAN_PATTERNS = ^[A-Z]{1,2}\d{1,4}[A-Z]{1,3}$,^\d{1,4}[A-Z]{1,3}$

# False positive reduction
ENABLE_DUPLICATE_FILTER = true
DUPLICATE_IOU_THRESHOLD = 0.5
TEMPORAL_FILTERING = true

[ADVANCED]
# Advanced features
USE_ENSEMBLE_DETECTION = true
ADAPTIVE_THRESHOLDING = true
DYNAMIC_ROI_ADJUSTMENT = true
TEMPORAL_CONSISTENCY = true

# Machine learning enhancements
CONFIDENCE_CALIBRATION = true
PATTERN_LEARNING = true
ADAPTIVE_PREPROCESSING = true

# Real-time optimization
FRAME_SKIP_STRATEGY = auto
QUALITY_VS_SPEED_RATIO = 0.7
DYNAMIC_MODEL_SELECTION = true